(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3fce4d20"],{"063f":function(e,s,t){},"0b4d":function(e,s,t){"use strict";t.r(s);var a=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticClass:"message"},[t("div",{staticClass:"header"},[t("div",{staticClass:"animated slideInDown"},[t("label",{attrs:{id:"title"},on:{click:e.back}},[e._v("Landers 1037")])]),t("el-divider",[t("span",{staticStyle:{"font-family":"'DejaVu Sans Mono','Source Code Pro','Liberation Mono',monospace","font-size":"14px"}},[e._v("Never stop debugging")])])],1),t("div",{staticClass:"box"},[t("p",[e._v("在这里写下你的留言")]),t("div",{staticClass:"messageBox"},e._l(e.messages,(function(s){return t("ul",{staticClass:"animated fadeInDown",attrs:{id:"mes"}},[t("i",{staticClass:"el-icon-chat-round",staticStyle:{"font-size":"20px","padding-right":"6px"}}),e._v(e._s(s))])})),0),t("el-input",{staticClass:"yourmes",attrs:{type:"textarea",rows:2,placeholder:"请输入留言",autosize:""},model:{value:e.textarea,callback:function(s){e.textarea=s},expression:"textarea"}})],1),t("el-button",{staticClass:"btnSend",attrs:{icon:"el-icon-chat-square"},on:{click:e.sendmes}},[e._v("发表留言")])],1)},i=[],n={name:"message",data(){return{messages:[],textarea:"",saved:!1}},mounted(){this.getmes()},methods:{back(){this.$router.push("/")},getmes(){this.$http.get("/api/message").then(e=>{this.messages=e.data})},sendmes(){let e={},s=this;this.textarea.trim().length>=4&&!s.saved?(e={mes:this.textarea},this.$http.post("/api/message",e).then(e=>{"saved"===e.data?(s.tishi(),s.saved=!0,setTimeout((function(){s.getmes()}),1e3)):s.$message.error("留言失败，请重试")}).catch(e=>{this.$message({message:"你的留言没有成功保存，请稍后重试",type:"warning"})})):this.saved?this.$message.error("你已经留言过了"):this.$message.error("你的留言至少应超过4个字符")},tishi(){this.$message({message:"注意哦，你发表的留言会在缓存中保留，稍后会写入数据库",type:"warning"})}}},r=n,o=(t("ec68"),t("2877")),c=Object(o["a"])(r,a,i,!1,null,"0944847a",null);s["default"]=c.exports},ec68:function(e,s,t){"use strict";var a=t("063f"),i=t.n(a);i.a}}]);