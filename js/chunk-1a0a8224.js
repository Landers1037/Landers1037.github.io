(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1a0a8224"],{"0c9f":function(t,a,s){"use strict";const i={api_statistic_daily:"/api/statistic/daily",api_statistic_routines:"/api/statistic/routines",api_statistic_views:"api/statistic/views",api_statistic_check:"/api/statistic/checkredis"};a["a"]=i},2423:function(t,a,s){"use strict";const i={api_article_list:"/api/article/posts",api_article_more:"/api/article/post",api_article_brother:"/api/article/brother",api_article_comments:"/api/article/comments",api_article_search:"/api/article/search",api_article_likes:"/api/article/likes",api_article_shares:"/api/article/shares"};a["a"]=i},"437d":function(t,a,s){},5215:function(t,a,s){"use strict";s("89d1")},"5bd2":function(t,a,s){},"5fd4":function(t,a,s){"use strict";const i={login:"/api/admin/login",logout:"/api/admin/logout",upload_file:"/api/dashboard/post/upload",export_file:"/api/dashboard/post/export",db_back:"/api/dashboard/db/backup",add_post:"/api/dashboard/post/add",post:"/api/dashboard/post",comment:"/api/dashboard/comment",zhuanlan:"/api/dashboard/zhuanlan",message:"/api/dashboard/message",view:"/api/dashboard/view",like:"/api/dashboard/like",share:"/api/dashboard/share"};a["a"]=i},6511:function(t,a,s){"use strict";s.r(a);var i=function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("div",{staticClass:"home"},[i("top_banner"),i("div",{staticClass:"drawer"},[i("el-button",{staticClass:"el-icon-s-unfold",on:{click:function(a){t.drawer=!0}}})],1),i("el-drawer",{attrs:{title:"🔨",visible:t.drawer,direction:"ltr",size:"60%",modal:!1,"with-header":!1},on:{"update:visible":function(a){t.drawer=a}}},[i("div",{staticClass:"drawer-content"},[i("div",{staticClass:"img"},[i("img",{attrs:{src:s("915e")},on:{click:t.dashboard}}),i("div",{staticClass:"me"},[i("p",{staticStyle:{"font-weight":"bold"}},[i("span",{staticClass:"label"},[t._v("Author")]),i("span",{staticClass:"link"},[t._v(t._s(t.custom.author))])]),i("p",{staticStyle:{"font-weight":"bold"}},[i("span",{staticClass:"label"},[t._v("My site")]),i("a",{staticClass:"link",attrs:{href:t.custom.site_url}},[t._v(t._s(t.custom.site_name))])]),i("p",{staticStyle:{"font-weight":"bold"}},[i("span",{staticClass:"label"},[t._v("Github")]),i("a",{staticClass:"link",attrs:{href:"https://github.com/"+t.custom.github}},[t._v(t._s(t.custom.github))])])]),i("div",{staticClass:"small-bt"},[i("i",{staticClass:"el-icon-search",on:{click:function(a){return t.open("se")}}}),i("i",{staticClass:"el-icon-message",on:{click:function(a){return t.open("mail")}}}),i("i",{staticClass:"el-icon-present",attrs:{title:"赞助我"},on:{click:function(a){return t.open("pay")}}}),i("i",{staticClass:"el-icon-chat-dot-round",attrs:{title:"给我留言"},on:{click:t.toMessage}})])]),i("div",{staticStyle:{"margin-top":"15px",padding:"10px"}},[i("el-collapse",[i("el-collapse-item",{attrs:{title:"我的项目",name:"1"}},[i("div",{staticStyle:{"text-align":"left"}},[t._v(t._s(t.custom.project_des)),i("a",{attrs:{href:t.custom.project_url}},[t._v(t._s(t.custom.project))])])])],1)],1),i("div",{staticClass:"more"},[i("el-button",{staticClass:"bt",attrs:{plain:""},on:{click:function(a){return t.$router.push("/archive")}}},[t._v("归档")]),i("el-button",{staticClass:"bt",attrs:{plain:""},on:{click:function(a){return t.$router.push("/about")}}},[t._v("关于")]),i("el-button",{staticClass:"bt",attrs:{plain:""},on:{click:t.status}},[t._v("状态")]),i("el-button",{staticClass:"bt",attrs:{type:"primary"},on:{click:function(a){return t.$router.push("/zhuanlan")}}},[t._v("专栏")]),i("i",{staticClass:"el-icon-info",staticStyle:{"margin-top":"15px",cursor:"pointer","font-size":"14px",color:"#9f9f9f","font-weight":"bold"},on:{click:t.overview}},[t._v("OVERVIEW")]),i("p",{staticStyle:{color:"#9f9f9f","text-align":"left","padding-left":"10px","margin-top":"15px","font-size":"14px"}},[t._v("博客文章的版权归作者所有，转载时请注明来源")])],1)])]),i("div",{staticClass:"wrapper"},[i("div",{staticClass:"contents"},[i("div",{staticClass:"right animated slideInRight"},[i("div",{staticClass:"img"},[i("img",{attrs:{src:s("915e")},on:{click:t.dashboard}}),i("div",{staticClass:"me"},[i("p",{staticStyle:{"font-weight":"bold"}},[i("span",{staticClass:"label"},[t._v("Author")]),i("span",{staticClass:"link"},[t._v(t._s(t.custom.author))])]),i("p",{staticStyle:{"font-weight":"bold"}},[i("span",{staticClass:"label"},[t._v("My site")]),i("a",{staticClass:"link",attrs:{href:t.custom.site_url}},[t._v(t._s(t.custom.site_name))])]),i("p",{staticStyle:{"font-weight":"bold"}},[i("span",{staticClass:"label"},[t._v("Github")]),i("a",{staticClass:"link",attrs:{href:"https://github.com/"+t.custom.github}},[t._v(t._s(t.custom.github))])])]),i("div",{staticClass:"small-bt"},[i("i",{staticClass:"el-icon-search",on:{click:function(a){return t.open("se")}}}),i("i",{staticClass:"el-icon-message",on:{click:function(a){return t.open("mail")}}}),i("i",{staticClass:"el-icon-present",attrs:{title:"赞助我"},on:{click:function(a){return t.open("pay")}}}),i("i",{staticClass:"el-icon-chat-dot-round",attrs:{title:"给我留言"},on:{click:t.toMessage}})])]),i("div",{staticStyle:{"margin-top":"15px"}},[i("el-collapse",[i("el-collapse-item",{attrs:{title:"我的项目",name:"1"}},[i("div",{staticStyle:{"text-align":"left"}},[t._v(t._s(t.custom.project_des)),i("a",{attrs:{href:t.custom.project_url}},[t._v(t._s(t.custom.project))])])]),i("el-collapse-item",{attrs:{title:"更多标签",name:"2"}},[i("div",{staticClass:"tags"},t._l(t.tags_more,(function(a){return i("el-tag",{key:a,attrs:{type:"success",effect:"dark"},on:{click:function(s){return t.getbytag(a)}}},[t._v(" "+t._s(a)+" ")])})),1)])],1)],1),i("div",{staticClass:"tags"},t._l(t.tags_less,(function(a){return i("el-tag",{key:a,attrs:{type:"success",effect:"dark"},on:{click:function(s){return t.getbytag(a)}}},[t._v(" "+t._s(a)+" ")])})),1),i("div",{staticClass:"more"},[i("el-button",{staticClass:"bt",attrs:{plain:""},on:{click:function(a){return t.$router.push("/archive")}}},[t._v("归档")]),i("el-button",{staticClass:"bt",attrs:{plain:""},on:{click:function(a){return t.$router.push("/about")}}},[t._v("关于")]),i("el-button",{staticClass:"bt",attrs:{plain:""},on:{click:t.status}},[t._v("状态")]),i("el-button",{staticClass:"bt",attrs:{type:"primary"},on:{click:function(a){return t.$router.push("/zhuanlan")}}},[t._v("专栏")]),i("i",{staticClass:"el-icon-info",staticStyle:{"margin-top":"15px",cursor:"pointer","font-size":"14px",color:"#9f9f9f","font-weight":"bold"},on:{click:t.overview}},[t._v("OVERVIEW")]),i("p",{staticStyle:{color:"#9f9f9f","text-align":"left","padding-left":"10px","margin-top":"10px","font-size":"14px"}},[t._v("博客文章的版权归作者所有，转载时请注明来源")])],1)]),i("div",{staticClass:"left"},[i("div",{staticClass:"articlelists"},[0===t.posts.list.length?i("el-skeleton",{attrs:{rows:6,animated:""}}):t._e(),t._l(t.posts.list,(function(a){return i("div",{key:a.title,staticClass:"post animated slideInDown"},[i("a",{staticClass:"post-a",attrs:{href:"/p/"+a.name}},[t._v(t._s(a.title))]),i("div",{staticClass:"markdown-body abstract",attrs:{id:"markdown-body"},domProps:{innerHTML:t._s(t.mk(a.abstract))}}),a.tags&&"暂时没有标签"!==a.tags?i("div",{staticClass:"post-tag"},t._l(t.tags_to_list(a.tags),(function(a){return i("el-tag",{key:a,staticStyle:{cursor:"pointer","margin-right":"8px"},attrs:{type:"info",size:"small"},on:{click:function(s){return t.$router.push("/t/"+a)}}},[t._v(t._s(a))])})),1):t._e()])}))],2),i("div",{staticClass:"pagenation"},[i("el-pagination",{attrs:{background:"","current-page":1,"pager-count":t.pagecount,"page-size":8,layout:"prev, pager, next",total:t.posts.total},on:{"current-change":t.reloadpage}})],1)])]),i("div",{staticStyle:{clear:"both"}})]),i("el-dialog",{staticClass:"sys",attrs:{title:"博客状态",visible:t.dialogVisible},on:{"update:visible":function(a){t.dialogVisible=a}}},[i("div",{staticStyle:{width:"100%",margin:"0 auto"}},[i("span",{staticStyle:{width:"120px",display:"inline-block","margin-right":"10px"}},[t._v("当前的routine协程")]),i("el-input",{staticStyle:{"margin-bottom":"10px","max-width":"140px"},attrs:{disabled:!0},model:{value:t.routine,callback:function(a){t.routine=a},expression:"routine"}}),i("br"),i("span",{staticStyle:{width:"120px",display:"inline-block","margin-right":"10px"}},[t._v("本站的访问量")]),i("el-input",{staticStyle:{"max-width":"140px","margin-bottom":"10px"},attrs:{disabled:!0},model:{value:t.uv,callback:function(a){t.uv=a},expression:"uv"}}),i("br"),i("span",{staticStyle:{width:"120px",display:"inline-block","margin-right":"10px"}},[t._v("当天的请求次数")]),i("el-input",{staticStyle:{"max-width":"140px","margin-bottom":"10px"},attrs:{disabled:!0},model:{value:t.count,callback:function(a){t.count=a},expression:"count"}}),i("br"),i("span",{staticStyle:{width:"120px",display:"inline-block","margin-right":"10px"}},[t._v("站点运行时长")]),i("el-input",{staticStyle:{"max-width":"140px","margin-bottom":"10px"},attrs:{disabled:!0},model:{value:t.days,callback:function(a){t.days=a},expression:"days"}})],1),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("strong",{staticStyle:{"font-size":"14px",color:"#9f9f9f"}},[t._v("@"+t._s(t.custom.author)+" "+t._s(t.custom.start_year)+"-"+t._s(t.year))])])]),i("el-dialog",{attrs:{id:"user-login",title:"登录到后台",visible:t.login,width:"50%"},on:{"update:visible":function(a){t.login=a}}},[i("el-input",{attrs:{placeholder:"请输入用户名",clearable:""},model:{value:t.admin_name,callback:function(a){t.admin_name=a},expression:"admin_name"}}),i("p",{staticStyle:{"margin-top":"10px"}}),i("el-input",{attrs:{placeholder:"请输入密码","show-password":""},model:{value:t.admin_passwd,callback:function(a){t.admin_passwd=a},expression:"admin_passwd"}}),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{staticStyle:{"margin-right":"20px"},on:{click:function(a){t.login=!1}}},[t._v("取 消")]),i("el-button",{attrs:{type:"primary"},on:{click:t.loginto}},[t._v("登 录")])],1)],1),i("bottom_banner")],1)},e=[],o=s("40bd"),n=s("2423"),l=s("0c9f"),r=s("5fd4"),c=s("d28d"),d=s("9eb7"),p=s.n(d),u=s("cb37"),h=s("7d62"),g={name:"home",components:{Bottom_banner:h["a"],Top_banner:u["a"]},data(){return{custom:o["a"],drawer:!1,tags:[],tags_more:[],tags_less:[],posts:{total:null,list:[]},pagecount:9,swidth:0,routine:0,uv:0,count:0,days:0,year:2017,dialogVisible:!1,dashboard_count:o["a"].dashboard_count,login:!1,admin_name:"",admin_passwd:""}},watch:{swidth:function(){this.swidth<=540&&this.swidth>=460?this.pagecount=7:this.swidth<460?this.pagecount=5:this.swidth>540&&(this.pagecount=9)}},created(){let t=document.body.clientWidth;t<=540&&t>=460?this.pagecount=7:t<460?this.pagecount=5:t>540&&(this.pagecount=9)},mounted(){this.loadpage(1),this.gettags();let t=this;window.onresize=function(){t.swidth=document.body.clientWidth},this.re(),t.whatdays()},methods:{back(){location.reload()},tags_to_list(t){return t.split(" ")},gettags(){let t=this;t.$http.get(c["a"].api_tags_all).then(a=>{let s=a.data.data;if(s){let a={};for(var i=0;i<s.length;i++)a.hasOwnProperty(s[i]["tag"])||(t.tags.push(s[i]["tag"]),a[s[i]["tag"]]=!0);t.tags_less=t.tags.slice(0,21),t.tags_more=t.tags.slice(21)}}).catch(t=>{this.$message.error("出现错误了，请求标签失败")})},getbytag(t){this.$router.push("/t/"+t)},getarticles(){this.loadpage(1)},reloadpage(t){this.loadpage(t)},mk(t){return marked.setOptions({renderer:new marked.Renderer,highlight:function(t){return hljs.highlightAuto(t).value},pendantic:!1,gfm:!0,tables:!0,breaks:!0,sanitize:!1,smartLists:!0,xhtml:!1}),this.$nextTick(()=>{let t=document.getElementById("markdown-body"),a=t.getElementsByTagName("pre");for(let s=0;s<a.length;s++)a[s].classList.add("hljs");this.reformat_images()}),marked(t)},loadpage(t){this.$http.get(n["a"].api_article_list,{params:{p:t}}).then(t=>{this.posts.list=t.data.data,this.posts.total=t.data.len}).catch(t=>{console.log(t),this.$message.error("出现错误了，请求文章失败")})},status(){this.dialogVisible=!0;let t=this;this.$http.get(l["a"].api_statistic_views).then(a=>{t.uv=a.data?a.data:0}).catch(a=>{t.$message.error("出现错误了，请求状态失败")}),this.$http.get(l["a"].api_statistic_routines).then(a=>{t.routine=a.data?a.data:0}),this.$http.get(l["a"].api_statistic_daily).then(a=>{t.count=a.data?a.data:0})},open(t){if("mail"===t){let t="<strong>你可以通过我的邮箱联系我 <i>"+this.custom.email+"</i></strong>";this.$alert(t,"联系我",{dangerouslyUseHTMLString:!0})}else if("pay"===t){let t='<strong>觉得不错可以赞助我！</strong><br><img style="max-width: 140px;vertical-align: middle" src="'+p.a+'"><span style="vertical-align: middle;padding-left: 20px;font-size: 18px"> 🥰 Thanks</span>';this.$alert(t,"赞助我",{dangerouslyUseHTMLString:!0})}else this.$router.push("/search")},whatdays(){var t,a;let s=new Date;this.year=s.getFullYear(),s=s.toLocaleDateString();let i=this.custom.start_date;s=Date.parse(s),i=Date.parse(i),t=s-i,t=Math.abs(t),a=Math.floor(t/864e5),this.days="🍀 "+a+"天"},toMessage(){this.$router.push("/message")},overview(){this.$router.push("/overview")},dashboard(){this.dashboard_count>0?this.dashboard_count--:localStorage.getItem("token")?this.goto_dashboard():this.login=!0},loginto(){""===this.admin_name||""===this.admin_passwd?(this.login=!1,this.$message("输入的用户名或密码为空")):this.$http.post(r["a"].login,{name:this.admin_name,passwd:this.admin_passwd}).then(t=>{"failed"!==t.data.data?(localStorage.setItem("token",t.data.data),this.goto_dashboard()):this.$message.error("登录失败")}).catch(t=>{this.$message.error("登录失败")})},goto_dashboard(){this.$router.push("/dashboard")},re(){this.$nextTick(()=>{this.reformat_images()})},reformat_images(){let t=document.getElementsByClassName("markdown-body");for(let a=0;a<t.length;a++){let s=t[a],i=s.getElementsByTagName("img");for(let t=0;t<i.length;t++)if(!i[t].getAttribute("lightbox")){let a=i[t].parentNode,s="images"+t,e=i[t].src,o=document.createElement("a");i[t].setAttribute("lightbox","true"),o.href=e,o.classList.add("spotlight"),o.setAttribute("data-image-alt",s),o.append(i[t]),a.append(o)}}}}},m=g,_=(s("6c67"),s("8d8a"),s("5215"),s("2877")),b=Object(_["a"])(m,i,e,!1,null,"3c14c58c",null);a["default"]=b.exports},"6c67":function(t,a,s){"use strict";s("437d")},"7d62":function(t,a,s){"use strict";var i=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"bottom"},[s("p",[s("el-icon",{staticClass:"el-icon-lollipop"}),s("a",{staticStyle:{color:"#5f5f5f","font-weight":"bold","margin-right":"8px"},attrs:{href:t.custom.bottom_url}},[t._v(t._s(t.custom.bottom_tag))]),s("el-icon",{staticClass:"el-icon-coffee-cup"}),s("a",{staticStyle:{color:"#5f5f5f","font-weight":"bold"},attrs:{href:t.custom.bottom_url2}},[t._v(t._s(t.custom.bottom_tag2))]),s("br"),s("span",{staticStyle:{"font-size":"12px"},attrs:{id:"bottom-span"}},[t._v(t._s(t.custom.bottom_span))])],1)])},e=[],o=s("40bd"),n={name:"bottom_banner",data(){return{custom:o["a"]}}},l=n,r=(s("d659"),s("d12e"),s("2877")),c=Object(r["a"])(l,i,e,!1,null,"9a2ba0d6",null);a["a"]=c.exports},"89d1":function(t,a,s){},"8d8a":function(t,a,s){"use strict";s("972e")},"915e":function(t,a,s){t.exports=s.p+"img/avatar.jpg"},"972e":function(t,a,s){},"9eb7":function(t,a,s){t.exports=s.p+"img/pay.jpg"},a9b2:function(t,a,s){},cb37:function(t,a,s){"use strict";var i=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"header"},[s("div",{staticClass:"animated slideInDown"},[s("label",{attrs:{id:"title"},on:{click:t.back}},[t._v(t._s(t.custom.top_banner))])]),s("el-divider",[s("span",{staticStyle:{"font-family":"'mo',monospace","font-size":"14px"}},[t._v(" "+t._s(t.custom.top_span)+" ")])])],1)},e=[],o=s("40bd"),n={name:"top_banner",data(){return{custom:o["a"]}},methods:{back(){"/"===location.pathname?location.reload():this.$router.push("/")}}},l=n,r=(s("d212"),s("d072"),s("2877")),c=Object(r["a"])(l,i,e,!1,null,"7baa8a2b",null);a["a"]=c.exports},cc65:function(t,a,s){},d072:function(t,a,s){"use strict";s("5bd2")},d12e:function(t,a,s){"use strict";s("cc65")},d212:function(t,a,s){"use strict";s("a9b2")},d28d:function(t,a,s){"use strict";const i={api_tags_all:"/api/article/tags",api_tags_post:"/api/article/tags",api_tags_list:"/api/article/tag"};a["a"]=i},d659:function(t,a,s){"use strict";s("e853")},e853:function(t,a,s){}}]);